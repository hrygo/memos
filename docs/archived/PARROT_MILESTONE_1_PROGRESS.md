# é¹¦é¹‰æ–¹æ¡ˆ Milestone 1 å®æ–½è¿›åº¦

> **æ›´æ–°æ—¶é—´**: 2025-01-22
> **å½“å‰é˜¶æ®µ**: Phase 2-3 å®Œæˆ âœ… | Phase 4 å¾…å¼€å§‹ â³
> **æ€»ä½“è¿›åº¦**: 90% (åç«¯å®Œæˆï¼Œå‰ç«¯ç»„ä»¶å®Œæˆï¼Œå¾…é›†æˆå’Œæµ‹è¯•)

---

## æ‰§è¡Œæ‘˜è¦

### æ ¸å¿ƒåŸåˆ™

1. **æœ€å°åŒ–æ”¹åŠ¨**: å¤ç”¨ç°æœ‰çš„ SchedulerAgent å’Œ ChatWithMemos æµç¨‹
2. **å‘åå…¼å®¹**: ä½¿ç”¨ç°æœ‰çš„ `event_type`/`event_data` æµå¼æœºåˆ¶
3. **æ¸è¿›äº¤ä»˜**: Day 1-5 åç«¯ï¼ŒDay 6-9 å‰ç«¯ï¼ŒDay 10 æµ‹è¯•

### å®æ–½çŠ¶æ€

- âœ… **Day 1-2**: Proto + Base Architecture + ParrotRouter + memo_search (å·²å®Œæˆ)
- âœ… **Day 3**: MemoParrot (ğŸ¦œ ç°ç°) - ç¬”è®°åŠ©æ‰‹ (å·²å®Œæˆ)
- âœ… **Day 4**: ScheduleParrot (ğŸ¦œ é‡‘åˆš) - æ—¥ç¨‹åŠ©æ‰‹ (å·²å®Œæˆ)
- âœ… **Day 5**: é›†æˆåˆ° ChatWithMemos (å·²å®Œæˆ)
- âœ… **Day 6**: å‰ç«¯ç±»å‹å’Œ Hook (å·²å®Œæˆ)
- âœ… **Day 7-8**: å‰ç«¯ç»„ä»¶ (å·²å®Œæˆ)
- ğŸ”„ **Day 9**: AIChat é›†æˆï¼ˆç»„ä»¶å®Œæˆï¼Œå¾…æ‰‹åŠ¨é›†æˆï¼‰
- â³ **Day 10**: æµ‹è¯•ä¸æ–‡æ¡£ (å¾…å¼€å§‹)

---

## ğŸ‰ æœ€æ–°è¿›å±•ï¼ˆ2025-01-22ï¼‰

### åç«¯å®Œæˆ âœ…

**Phase 1-2 (Day 1-5)** å·²å…¨éƒ¨å®Œæˆå¹¶é€šè¿‡ç¼–è¯‘æµ‹è¯•ï¼

**å®Œæˆå†…å®¹**:
1. âœ… Proto å®šä¹‰æ›´æ–°ï¼ˆAgentType æšä¸¾ï¼‰
2. âœ… åŸºç¡€æ¶æ„ï¼ˆtypes, base_tool, cache, parrot_routerï¼‰
3. âœ… MemoParrotï¼ˆğŸ¦œ ç°ç°ï¼‰- ç¬”è®°åŠ©æ‰‹
4. âœ… ScheduleParrotï¼ˆğŸ¦œ é‡‘åˆšï¼‰- æ—¥ç¨‹åŠ©æ‰‹
5. âœ… ChatWithMemos é›†æˆé¹¦é¹‰è·¯ç”±
6. âœ… ç¼–è¯‘éªŒè¯é€šè¿‡

**æ–°å¢ä»£ç **: ~1,750 è¡Œ
**ç¼–è¯‘çŠ¶æ€**: âœ… é€šè¿‡
**æµ‹è¯•çŠ¶æ€**: â³ å¾…è¿›è¡Œï¼ˆDay 10ï¼‰

### å‰ç«¯å®Œæˆ âœ…

**Phase 3 (Day 6-8)** å·²å…¨éƒ¨å®Œæˆï¼

**å®Œæˆå†…å®¹**:
1. âœ… é¹¦é¹‰ç±»å‹å®šä¹‰ï¼ˆ`types/parrot.ts`ï¼‰
2. âœ… é¹¦é¹‰èŠå¤© Hookï¼ˆ`hooks/useParrotChat.ts`ï¼‰
3. âœ… æ‰©å±• AI æŸ¥è¯¢ Hookï¼ˆ`hooks/useAIQueries.ts`ï¼‰
4. âœ… ParrotSelector ç»„ä»¶ï¼ˆ@ è§¦å‘ï¼‰
5. âœ… ParrotQuickActions ç»„ä»¶ï¼ˆå¿«æ·æ“ä½œï¼‰
6. âœ… ParrotStatus ç»„ä»¶ï¼ˆçŠ¶æ€æ˜¾ç¤ºï¼‰
7. âœ… MemoQueryResult ç»„ä»¶ï¼ˆæŸ¥è¯¢ç»“æœï¼‰

**æ–°å¢ä»£ç **: ~1,300 è¡Œ
**ç¼–è¯‘çŠ¶æ€**: â³ å¾…éªŒè¯
**æµ‹è¯•çŠ¶æ€**: â³ å¾…è¿›è¡Œï¼ˆDay 10ï¼‰

### Day 9 é›†æˆå‡†å¤‡å®Œæˆ ğŸ”„

**å®Œæˆå†…å®¹**:
1. âœ… AIChat.tsx å¯¼å…¥è¯­å¥å·²æ·»åŠ 
2. âœ… é¹¦é¹‰çŠ¶æ€å˜é‡å·²å®šä¹‰
3. âœ… é›†æˆæŒ‡å—æ–‡æ¡£å·²åˆ›å»ºï¼ˆ`docs/PARROT_INTEGRATION_GUIDE.md`ï¼‰

**å¾…å®Œæˆ**:
1. â³ æ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•°
2. â³ ä¿®æ”¹ Textarea ç»„ä»¶
3. â³ æ·»åŠ  UI ç»„ä»¶åˆ° JSX
4. â³ ä¿®æ”¹ handleSend å‡½æ•°
5. â³ æµ‹è¯•å®Œæ•´æµç¨‹

---

## å·²å®Œæˆçš„å·¥ä½œ

### Phase 1: åŸºç¡€æ¶æ„ï¼ˆDay 1-2ï¼‰âœ…

#### Day 1: Proto + Base Architecture âœ…

**1. Proto æ–‡ä»¶ä¿®æ”¹** âœ…
- æ–‡ä»¶: `proto/api/v1/ai_service.proto`
- ä¿®æ”¹å†…å®¹:
  - æ·»åŠ  `AgentType` æšä¸¾ï¼ˆ5ä¸ªå€¼ï¼‰
    - `AGENT_TYPE_DEFAULT = 0` - é»˜è®¤è¡Œä¸º
    - `AGENT_TYPE_MEMO = 1` - ğŸ¦œ ç°ç° - ç¬”è®°åŠ©æ‰‹
    - `AGENT_TYPE_SCHEDULE = 2` - ğŸ¦œ é‡‘åˆš - æ—¥ç¨‹åŠ©æ‰‹
    - `AGENT_TYPE_AMAZING = 3` - ğŸ¦œ æƒŠå¥‡ - ç»¼åˆåŠ©æ‰‹ï¼ˆMilestone 2ï¼‰
    - `AGENT_TYPE_CREATIVE = 4` - ğŸ¦œ çµçµ - åˆ›æ„åŠ©æ‰‹ï¼ˆMilestone 4ï¼‰
  - åœ¨ `ChatWithMemosRequest` æ·»åŠ  `agent_type` å­—æ®µï¼ˆå­—æ®µç¼–å· 5ï¼‰
- ç”Ÿæˆä»£ç :
  - Go: `proto/gen/api/v1/ai_service.pb.go`
  - TypeScript: `web/src/types/proto/api/v1/ai_service_pb.ts`

**2. ç±»å‹å®šä¹‰** âœ…
- æ–‡ä»¶: `plugin/ai/agent/types.go`
- æ ¸å¿ƒæ¥å£å’Œç±»å‹:
  - `ParrotAgent` æ¥å£ - æ‰€æœ‰é¹¦é¹‰ä»£ç†çš„æ¥å£
  - `EventCallback` ç±»å‹ - äº‹ä»¶å›è°ƒå‡½æ•°
  - `ParrotStream` æ¥å£ - æµå¼å“åº”æ¥å£
  - `MemoQueryResultData` - ç¬”è®°æŸ¥è¯¢ç»“æœ
  - `ScheduleQueryResultData` - æ—¥ç¨‹æŸ¥è¯¢ç»“æœ
  - `ParrotError` - é¹¦é¹‰ä»£ç†é”™è¯¯ç±»å‹

**3. å·¥å…·åŸºç±»** âœ…
- æ–‡ä»¶: `plugin/ai/agent/base_tool.go`
- æ ¸å¿ƒç»„ä»¶:
  - `Tool` æ¥å£ - å·¥å…·æ¥å£
  - `BaseTool` ç»“æ„ - å¯å¤ç”¨çš„å·¥å…·åŸºç±»
  - `ToolRegistry` - å·¥å…·æ³¨å†Œè¡¨
  - `ToolResult` - å·¥å…·æ‰§è¡Œç»“æœ

**4. ç¼“å­˜ç³»ç»Ÿ** âœ…
- æ–‡ä»¶: `plugin/ai/agent/cache.go`
- æ ¸å¿ƒç»„ä»¶:
  - `LRUCache` - çº¿ç¨‹å®‰å…¨çš„ LRU ç¼“å­˜ï¼Œæ”¯æŒ TTL
  - `GenericCache[T]` - æ³›å‹ç±»å‹å®‰å…¨çš„ç¼“å­˜åŒ…è£…å™¨
  - `CacheStats` - ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯

#### Day 2: ParrotRouter + memo_search Tool âœ…

**1. ç¬”è®°æœç´¢å·¥å…·** âœ…
- æ–‡ä»¶: `plugin/ai/agent/tools/memo_search.go`
- åŠŸèƒ½:
  - ä½¿ç”¨ AdaptiveRetriever è¿›è¡Œè¯­ä¹‰å’Œå…³é”®è¯æœç´¢
  - æ”¯æŒè‡ªå®šä¹‰æŸ¥è¯¢å‚æ•°ï¼ˆlimit, min_score, strategyï¼‰
  - è¿”å›ç»“æ„åŒ–çš„æœç´¢ç»“æœ
  - è¿‡æ»¤æ‰éç¬”è®°ç±»å‹çš„ç»“æœï¼ˆå¦‚æ—¥ç¨‹ï¼‰

**2. é¹¦é¹‰è·¯ç”±å™¨** âœ…
- æ–‡ä»¶: `plugin/ai/agent/parrot_router.go`
- åŠŸèƒ½:
  - `ParrotRouter` - æ ¸å¿ƒè·¯ç”±ç»„ä»¶
  - `Register()` - æ³¨å†Œé¹¦é¹‰ä»£ç†
  - `Route()` - è·¯ç”±è¯·æ±‚åˆ°æŒ‡å®šçš„é¹¦é¹‰
  - `AutoRoute()` - è‡ªåŠ¨è·¯ç”±ï¼ˆåŸºäºå…³é”®è¯ï¼‰
  - `ListAgents()` - åˆ—å‡ºæ‰€æœ‰å·²æ³¨å†Œçš„ä»£ç†

---

### Phase 2: é¹¦é¹‰å®ç°ï¼ˆDay 3-5ï¼‰âœ…

#### Day 3: MemoParrotï¼ˆğŸ¦œ ç°ç°ï¼‰âœ…

**æ–‡ä»¶**: `plugin/ai/agent/memo_parrot.go`

**æ ¸å¿ƒåŠŸèƒ½**:
1. å®ç° `ParrotAgent` æ¥å£
2. ä½¿ç”¨ ReAct å¾ªç¯ï¼ˆæ€è€ƒ â†’ å·¥å…·è°ƒç”¨ â†’ è§‚å¯Ÿ â†’ å›ç­”ï¼‰
3. è°ƒç”¨ `memo_search` å·¥å…·æ£€ç´¢ç¬”è®°
4. ä½¿ç”¨ LRU ç¼“å­˜ä¼˜åŒ–æ€§èƒ½ï¼ˆ100 entries, 5 min TTLï¼‰
5. æ™ºèƒ½æç¤ºè¯ï¼ˆç³»ç»Ÿæç¤ºè¯ï¼‰

**ç³»ç»Ÿæç¤ºè¯ç‰¹ç‚¹**:
- æ¸…æ™°çš„è§’è‰²å®šä½ï¼ˆç¬”è®°åŠ©æ‰‹ ğŸ¦œ ç°ç°ï¼‰
- æ˜ç¡®çš„å·¥ä½œæµç¨‹ï¼ˆReAct æ¨¡å¼ï¼‰
- å·¥å…·ä½¿ç”¨è§„èŒƒ
- å›ç­”åŸåˆ™ï¼ˆå‡†ç¡®ã€ç»“æ„æ¸…æ™°ã€ç®€æ´ï¼‰
- ç¤ºä¾‹å¯¹è¯

**æ€§èƒ½ä¼˜åŒ–**:
- ç¼“å­˜å¸¸è§æŸ¥è¯¢
- è¶…æ—¶ä¿æŠ¤ï¼ˆ2 åˆ†é’Ÿï¼‰
- æœ€å¤§è¿­ä»£æ¬¡æ•°é™åˆ¶ï¼ˆ5 æ¬¡ï¼‰

#### Day 4: ScheduleParrotï¼ˆğŸ¦œ é‡‘åˆšï¼‰âœ…

**æ–‡ä»¶**: `plugin/ai/agent/schedule_parrot.go`

**æ ¸å¿ƒè®¾è®¡**:
- **é›¶é‡å†™åŸåˆ™**: å®Œå…¨åŒ…è£…ç°æœ‰çš„ `SchedulerAgent`
- **é€‚é…å™¨æ¨¡å¼**: å°†ç°æœ‰çš„å›è°ƒç­¾åé€‚é…åˆ°æ–°çš„ `EventCallback`
- **ç›´æ¥è½¬å‘**: æ‰€æœ‰é€»è¾‘ç›´æ¥å§”æ‰˜ç»™ `SchedulerAgent.ExecuteWithCallback()`

**ä»£ç é‡**: çº¦ 100 è¡Œï¼ˆæç®€å®ç°ï¼‰

**ä¼˜åŠ¿**:
1. é›¶é‡å†™ - å¤ç”¨ç°æœ‰ä»£ç 
2. å‘åå…¼å®¹ - ä¸å½±å“ç°æœ‰åŠŸèƒ½
3. æ˜“äºç»´æŠ¤ - å•ä¸€èŒè´£
4. å¿«é€Ÿäº¤ä»˜ - æœ€å°åŒ–å¼€å‘æ—¶é—´

---

## è¿›è¡Œä¸­çš„å·¥ä½œ

### Day 5: é›†æˆåˆ° ChatWithMemos ğŸ”„

**å½“å‰çŠ¶æ€**: ä¿®æ”¹ `server/router/api/v1/ai_service_chat.go`

**å·²å®Œæˆ**:
1. âœ… ä¿®æ”¹ `AIService` ç»“æ„ï¼Œæ·»åŠ  `ParrotRouter` å­—æ®µ
2. âœ… åœ¨ `ChatWithMemos` å‡½æ•°ä¸­æ·»åŠ é¹¦é¹‰è·¯ç”±æ£€æµ‹
3. âœ… æ·»åŠ æ—¥å¿—è¾“å‡º AgentType

**å¾…å®Œæˆ**:
1. â³ å®ç° `chatWithParrot()` å‡½æ•°
2. â³ é‡æ–°ç”Ÿæˆ proto ä»£ç ï¼ˆåŒ…å« AgentTypeï¼‰
3. â³ ç¼–è¯‘æµ‹è¯•
4. â³ é›†æˆæµ‹è¯•

---

## å¾…å¼€å§‹çš„å·¥ä½œ

### Phase 3: å‰ç«¯å®ç°ï¼ˆDay 6-9ï¼‰â³

#### Day 6: Types + useParrotChat Hook

**1. ç±»å‹å®šä¹‰** (`web/src/types/parrot.ts`)
- `ParrotAgentType` æšä¸¾
- `ParrotAgent` æ¥å£
- `MemoQueryResultData` ç±»å‹
- `ScheduleQueryResultData` ç±»å‹

**2. useParrotChat Hook** (`web/src/hooks/useParrotChat.ts`)
- å®ç° `useParrotChat` Hook
- é›†æˆ `aiServiceClient.chatWithMemos`
- å¤„ç†äº‹ä»¶æµï¼ˆonMemoQueryResultã€onScheduleQueryResultï¼‰

**3. æ‰©å±• useAIQueries** (`web/src/hooks/useAIQueries.ts`)
- æ·»åŠ  `agentType` å‚æ•°
- æ·»åŠ æ–°çš„å›è°ƒå‡½æ•°

#### Day 7: ParrotSelector ç»„ä»¶

**æ–‡ä»¶**: `web/src/components/AIChat/ParrotSelector.tsx`

**åŠŸèƒ½**:
- @ ç¬¦å·è§¦å‘é¹¦é¹‰é€‰æ‹©å™¨
- æ˜¾ç¤º 4 åªé¹¦é¹‰åˆ—è¡¨ï¼ˆç°ç°ã€é‡‘åˆšã€æƒŠå¥‡ã€çµçµï¼‰
- é”®ç›˜å¯¼èˆªï¼ˆâ†‘â†“é€‰æ‹©ï¼ŒEnterç¡®è®¤ï¼ŒEscå…³é—­ï¼‰
- å“åº”å¼è®¾è®¡

#### Day 8: ParrotQuickActions + Status

**1. ParrotQuickActions** (`web/src/components/AIChat/ParrotQuickActions.tsx`)
- 4 ä¸ªé¹¦é¹‰å¡ç‰‡
- ç‚¹å‡»åˆ‡æ¢
- è§†è§‰åé¦ˆï¼ˆé€‰ä¸­çŠ¶æ€ã€hoveræ•ˆæœï¼‰

**2. ParrotStatus** (`web/src/components/AIChat/ParrotStatus.tsx`)
- æ˜¾ç¤ºå½“å‰é¹¦é¹‰
- æ˜¾ç¤ºé¹¦é¹‰å›¾æ ‡
- æ˜¾ç¤ºé¹¦é¹‰æè¿°

#### Day 9: AIChat é›†æˆ

**æ–‡ä»¶**: `web/src/pages/AIChat.tsx`

**ä¿®æ”¹å†…å®¹**:
1. æ·»åŠ  `currentParrot` çŠ¶æ€
2. æ·»åŠ  `ParrotQuickActions` ç»„ä»¶
3. æ·»åŠ  `ParrotSelector` ç»„ä»¶ï¼ˆ@è§¦å‘ï¼‰
4. å¤„ç†æ–°äº‹ä»¶ï¼ˆ`onMemoQueryResult`ï¼‰
5. æ˜¾ç¤ºå½“å‰é¹¦é¹‰çŠ¶æ€

**æ–°å¢ç»„ä»¶**:
- `MemoQueryResult.tsx` - æ˜¾ç¤ºç¬”è®°æŸ¥è¯¢ç»“æœ

---

### Phase 4: æµ‹è¯•ä¸æ–‡æ¡£ï¼ˆDay 10ï¼‰â³

#### æµ‹è¯•

**1. å•å…ƒæµ‹è¯•**
- åç«¯: `plugin/ai/agent/*_test.go`
- å‰ç«¯: `web/src/**/*_test.ts`

**2. é›†æˆæµ‹è¯•**
- ç«¯åˆ°ç«¯æµ‹è¯•ï¼š10 ä¸ªåœºæ™¯
- æ€§èƒ½æµ‹è¯•ï¼šç°ç°æ£€ç´¢ < 2sï¼Œé‡‘åˆšå“åº” < 3s

**3. E2E æµ‹è¯•**
- Playwright è‡ªåŠ¨åŒ–æµ‹è¯•
- æ‰‹åŠ¨æµ‹è¯•åœºæ™¯

#### æ–‡æ¡£

**1. API æ–‡æ¡£**
- Proto API å®šä¹‰
- é¹¦é¹‰è·¯ç”± API
- äº‹ä»¶æµè§„èŒƒ

**2. ç”¨æˆ·æŒ‡å—**
- å¦‚ä½•ä½¿ç”¨é¹¦é¹‰ç³»ç»Ÿ
- é¹¦é¹‰é€‰æ‹©æŒ‡å—
- å¸¸è§é—®é¢˜

**3. å¼€å‘è€…æ–‡æ¡£**
- æ¶æ„è®¾è®¡æ–‡æ¡£
- ä»£ç æ³¨é‡Š
- æ‰©å±•æŒ‡å—

---

## å…³é”®æ–‡ä»¶æ¸…å•

### åç«¯æ–‡ä»¶ï¼ˆGoï¼‰

| æ–‡ä»¶ | çŠ¶æ€ | è¡Œæ•° | è¯´æ˜ |
|------|------|------|------|
| `proto/api/v1/ai_service.proto` | âœ… | +10 | æ·»åŠ  AgentType æšä¸¾ |
| `plugin/ai/agent/types.go` | âœ… | ~200 | ç»Ÿä¸€ç±»å‹å®šä¹‰ |
| `plugin/ai/agent/base_tool.go` | âœ… | ~250 | å·¥å…·åŸºç±» |
| `plugin/ai/agent/cache.go` | âœ… | ~300 | LRU ç¼“å­˜ |
| `plugin/ai/agent/parrot_router.go` | âœ… | ~230 | é¹¦é¹‰è·¯ç”±æ ¸å¿ƒ |
| `plugin/ai/agent/tools/memo_search.go` | âœ… | ~230 | ç¬”è®°æœç´¢å·¥å…· |
| `plugin/ai/agent/memo_parrot.go` | âœ… | ~330 | ğŸ¦œ ç°ç° - ç¬”è®°åŠ©æ‰‹ |
| `plugin/ai/agent/schedule_parrot.go` | âœ… | ~100 | ğŸ¦œ é‡‘åˆš - æ—¥ç¨‹åŠ©æ‰‹ |
| `server/router/api/v1/ai_service.go` | âœ… | +10 | æ·»åŠ  ParrotRouter å­—æ®µ |
| `server/router/api/v1/ai_service_chat.go` | ğŸ”„ | +50 | é›†æˆé¹¦é¹‰è·¯ç”±ï¼ˆè¿›è¡Œä¸­ï¼‰ |

**åç«¯æ€»ä»£ç é‡**: ~1,700 è¡Œï¼ˆå·²å®Œæˆï¼‰ï¼Œ~50 è¡Œï¼ˆè¿›è¡Œä¸­ï¼‰

### å‰ç«¯æ–‡ä»¶ï¼ˆReact/TypeScriptï¼‰

| æ–‡ä»¶ | çŠ¶æ€ | é¢„ä¼°è¡Œæ•° | è¯´æ˜ |
|------|------|----------|------|
| `web/src/types/parrot.ts` | â³ | ~150 | é¹¦é¹‰ç±»å‹å®šä¹‰ |
| `web/src/hooks/useParrotChat.ts` | â³ | ~200 | é¹¦é¹‰èŠå¤© Hook |
| `web/src/hooks/useAIQueries.ts` | â³ | +100 | æ‰©å±• useChatWithMemos |
| `web/src/components/AIChat/ParrotSelector.tsx` | â³ | ~250 | @ è§¦å‘é¹¦é¹‰é€‰æ‹©å™¨ |
| `web/src/components/AIChat/ParrotQuickActions.tsx` | â³ | ~150 | å¿«æ·æ“ä½œå¡ç‰‡ |
| `web/src/components/AIChat/ParrotStatus.tsx` | â³ | ~100 | é¹¦é¹‰çŠ¶æ€æ˜¾ç¤º |
| `web/src/components/AIChat/MemoQueryResult.tsx` | â³ | ~150 | ç¬”è®°æŸ¥è¯¢ç»“æœ |
| `web/src/pages/AIChat.tsx` | â³ | +200 | é›†æˆé¹¦é¹‰åŠŸèƒ½ |

**å‰ç«¯æ€»ä»£ç é‡**: ~1,300 è¡Œï¼ˆé¢„ä¼°ï¼‰

---

## éªŒæ”¶æ ‡å‡†ï¼ˆMilestone 1ï¼‰

### åŠŸèƒ½éªŒæ”¶

- [ ] ç”¨æˆ·å¯é€‰æ‹©ç°ç°ï¼ˆç¬”è®°åŠ©æ‰‹ï¼‰è¿›è¡Œå¯¹è¯
- [ ] ç°ç°èƒ½æ£€ç´¢ç¬”è®°ã€æ€»ç»“å†…å®¹ã€å›ç­”é—®é¢˜
- [ ] ç”¨æˆ·å¯é€‰æ‹©é‡‘åˆšï¼ˆæ—¥ç¨‹åŠ©æ‰‹ï¼‰ç®¡ç†æ—¥ç¨‹
- [ ] é‡‘åˆšèƒ½åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°æ—¥ç¨‹
- [ ] @ ç¬¦å·èƒ½è§¦å‘é¹¦é¹‰é€‰æ‹©å™¨
- [ ] å¿«æ·æ“ä½œå¡ç‰‡èƒ½åˆ‡æ¢é¹¦é¹‰
- [ ] æµå¼å“åº”æ­£å¸¸å·¥ä½œ
- [ ] é”™è¯¯å¤„ç†ä¼˜é›…

### æ€§èƒ½éªŒæ”¶

- [ ] ç°ç°æ£€ç´¢å»¶è¿Ÿ P95 < 2s
- [ ] é‡‘åˆšå“åº”å»¶è¿Ÿ P95 < 3s
- [ ] å‰ç«¯é¦–å±åŠ è½½ < 1s
- [ ] äº¤äº’å“åº” < 100ms

### è´¨é‡éªŒæ”¶

- [ ] åç«¯ä»£ç è¦†ç›–ç‡ > 80%
- [ ] å‰ç«¯ä»£ç è¦†ç›–ç‡ > 70%
- [ ] TypeScript æ— é”™è¯¯ï¼ˆstrict modeï¼‰
- [ ] ä»£ç é‡å¤ç‡ < 5%
- [ ] ç§»åŠ¨ç«¯å“åº”å¼
- [ ] WCAG 2.1 AA å¯è®¿é—®æ€§

### æ–‡æ¡£éªŒæ”¶

- [ ] API æ–‡æ¡£å®Œæ•´
- [ ] ç”¨æˆ·æŒ‡å—æ¸…æ™°
- [ ] å¼€å‘è€…æ–‡æ¡£è¯¦ç»†
- [ ] å‘å¸ƒè¯´æ˜å‡†ç¡®

---

## é£é™©ç®¡ç†

### å·²è§£å†³çš„é£é™©

1. âœ… **å¯¼å…¥å¾ªç¯é—®é¢˜**
   - é—®é¢˜: `plugin/ai/agent/tools` å’Œ `plugin/ai/agent` å¾ªç¯ä¾èµ–
   - è§£å†³: åœ¨ `tools/memo_search.go` ä¸­å®šä¹‰ç‹¬ç«‹çš„ `MemoSummary` ç±»å‹

2. âœ… **å›è°ƒå‡½æ•°ç­¾åä¸åŒ¹é…**
   - é—®é¢˜: SchedulerAgent çš„å›è°ƒç­¾åä¸ ParrotAgent ä¸ä¸€è‡´
   - è§£å†³: ä½¿ç”¨é€‚é…å™¨æ¨¡å¼åŒ…è£…å›è°ƒå‡½æ•°

### å½“å‰é£é™©

1. ğŸŸ¡ **Proto ä»£ç ç”Ÿæˆ**
   - é£é™©: AgentType æšä¸¾å¯èƒ½æœªæ­£ç¡®ç”Ÿæˆ
   - ç¼“è§£: ä½¿ç”¨ `buf generate` é‡æ–°ç”Ÿæˆä»£ç 

2. ğŸŸ¡ **é›†æˆæµ‹è¯•å¤æ‚åº¦**
   - é£é™©: ChatWithMemos é›†æˆå¯èƒ½é‡åˆ°æ„å¤–é—®é¢˜
   - ç¼“è§£: åˆ†æ­¥æµ‹è¯•ï¼Œé€æ­¥éªŒè¯

### æ½œåœ¨é£é™©

1. ğŸŸ  **å‰ç«¯å®ç°æ—¶é—´**
   - é£é™©: å‰ç«¯ç»„ä»¶å¯èƒ½éœ€è¦æ›´å¤šæ—¶é—´
   - ç¼“è§£: ä¼˜å…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œéå…³é”®åŠŸèƒ½å¯å»¶å

2. ğŸŸ  **æ€§èƒ½ä¸è¾¾æ ‡**
   - é£é™©: ç°ç°æ£€ç´¢æˆ–é‡‘åˆšå“åº”å¯èƒ½è¶…è¿‡æ€§èƒ½ç›®æ ‡
   - ç¼“è§£: ä¼˜åŒ–ç¼“å­˜ç­–ç•¥ï¼Œå¢åŠ è¶…æ—¶æ§åˆ¶

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³è¡ŒåŠ¨ï¼ˆå½“å‰ï¼‰

1. **å®Œæˆ chatWithParrot() å‡½æ•°**
   ```bash
   # ç¼–è¾‘ server/router/api/v1/ai_service_chat.go
   # æ·»åŠ  chatWithParrot() å‡½æ•°å®ç°
   ```

2. **é‡æ–°ç”Ÿæˆ Proto ä»£ç **
   ```bash
   cd proto && buf generate
   ```

3. **ç¼–è¯‘æµ‹è¯•**
   ```bash
   go build ./server/router/api/v1/...
   ```

### åç»­ä»»åŠ¡

4. **Day 5 å®Œæˆ**: é›†æˆæµ‹è¯•
5. **Day 6 å¼€å§‹**: å‰ç«¯å®ç°
6. **Day 10**: E2E æµ‹è¯• + æ–‡æ¡£

---

## é¡¹ç›®ç»Ÿè®¡

### ä»£ç ç»Ÿè®¡

- **åç«¯æ–°å¢**: ~1,700 è¡Œ
- **åç«¯ä¿®æ”¹**: ~60 è¡Œ
- **å‰ç«¯é¢„ä¼°**: ~1,300 è¡Œ
- **æ€»è®¡**: ~3,060 è¡Œ

### æ—¶é—´ç»Ÿè®¡

- **Day 1-2**: 2 å¤© âœ…
- **Day 3-4**: 2 å¤© âœ…
- **Day 5**: 1 å¤© ğŸ”„
- **Day 6-9**: 4 å¤© â³
- **Day 10**: 1 å¤© â³
- **æ€»è®¡**: 10 å¤©

### å®Œæˆåº¦

- **åç«¯**: 90% (Day 1-5)
- **å‰ç«¯**: 0% (Day 6-9)
- **æµ‹è¯•**: 0% (Day 10)
- **æ€»ä½“**: 70%

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-01-22
**æ›´æ–°è€…**: Claude Code
**çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­
